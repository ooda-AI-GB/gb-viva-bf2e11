<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title }} - Maintenance System</title>
    <link rel="stylesheet" href="/static/styles.css">
    <!-- FontAwesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    {% if user %}
    <div class="sidebar">
        <h2><i class="fas fa-building"></i> Maintenance</h2>
        <div class="user-info">
            <p><i class="fas fa-user-circle"></i> {{ user.username }}</p>
            <small>{{ user.role|title }}</small>
        </div>
        <div class="nav-links">
            {% if user.role == 'tenant' %}
            <a href="/tenant/submit" class="{{ 'active' if active_page == 'submit' else '' }}"><i class="fas fa-plus"></i> New Request</a>
            <a href="/tenant/requests" class="{{ 'active' if active_page == 'requests' else '' }}"><i class="fas fa-list"></i> My Requests</a>
            {% elif user.role == 'worker' %}
            <a href="/worker/queue" class="{{ 'active' if active_page == 'queue' else '' }}"><i class="fas fa-tasks"></i> Work Queue</a>
            {% elif user.role == 'manager' %}
            <a href="/manager/dashboard" class="{{ 'active' if active_page == 'dashboard' else '' }}"><i class="fas fa-chart-line"></i> Dashboard</a>
            {% endif %}
            <a href="/logout" class="logout-btn"><i class="fas fa-sign-out-alt"></i> Logout</a>
        </div>
    </div>
    <div class="main-content">
        <h1>{{ title }}</h1>
        {% block content %}{% endblock %}
    </div>
    {% else %}
    <!-- Login page wrapper -->
    <div class="login-container">
        {% block login_content %}{% endblock %}
    </div>
    {% endif %}
</body>
</html>
